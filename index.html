<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<link rel="stylesheet" href="assets/css/vendors.css" />
	<link rel="stylesheet" href="assets/css/helppage.css">

	<title>Saferpay documentation | docs</title>
</head>
<body data-spy="scroll" data-target="#navScrollspy">

	<div id="content" class="container-fluid">
		<div class="row">

			<nav class="col-lg-2 hidden-xs hidden-sm hidden-md" id="navScrollspy">
				<div data-spy="affix">
					<h3>
						<span style="font-size: x-large; font-weight: bold">Saferpay</span>
						<span class="text-primary">docs</span>
					</h3>

					<ul class="nav">
								<li class="active">
										<a href="index.html">Introduction</a>
											<ul class="nav">
													<li><a href="#intro-requirement">Requirements</a></li>
													<li><a href="#pci">Data Security and PCI DSS</a></li>
													<li><a href="#3ds">3-D Secure</a></li>
													<li><a href="#dcc">Dynamic Currency Conversion</a></li>
													<li><a href="#paymentmethods">Supported Payment Methods</a></li>
													<li><a href="#licenses">Licences</a></li>
													<li><a href="#pm-functions">Payment Method Features</a></li>
													<li><a href="#capture-batch">Capture and Daily Closing</a></li>
													<li><a href="#capture">Capture</a></li>
													<li><a href="#closing">Daily Closing</a></li>
													<li><a href="#special">Special Cases</a></li>
													<li><a href="#cancel-refund">Cancel or Refund</a></li>
											</ul>
								</li>
								<li>
										<a href="Integration_PP.html">Payment Page</a>
											<ul class="nav">
													<li><a href="#pp-initialize">PaymentPage Initialize</a></li>
													<li><a href="#pp-initialize-response">PaymentPage Initialize Response</a></li>
													<li><a href="#pp-transaction">Redirect and Transaction</a></li>
													<li><a href="#pp-retshop">Return to the Shop</a></li>
													<li><a href="#pp-assert">PaymentPage Assert</a></li>
													<li><a href="#pp-captcancel">Capture or Cancel</a></li>
											</ul>
								</li>
								<li>
										<a href="Integration_trx.html">Transaction Interface</a>
											<ul class="nav">
													<li><a href="#trx-cc">Credit Cards</a></li>
													<li><a href="#trx-ini">Transaction Initialize</a></li>
													<li><a href="#trx-3ds">3-D Secure and DCC</a></li>
													<li><a href="#trx-retshop">Return to the Shop</a></li>
													<li><a href="#trx-ta">Transaction Authorize</a></li>
													<li><a href="#trx-captcancel">Capture or Cancel</a></li>
													<li><a href="#trx-sepa">SEPA Direct Debit</a></li>
											</ul>
								</li>
								<li>
										<a href="recurring.html">Recurring Payments</a>
											<ul class="nav">
													<li><a href="#recurring-req">Requirements</a></li>
													<li><a href="#recurring-payment-methods">Supported Payment Methods</a></li>
													<li><a href="#recurring-referenced">Referenced  Transactions Method</a></li>
													<li><a href="#trx-ta">Automating the Recurring Payments</a></li>
											</ul>
								</li>
								<li>
										<a href="CssiFrame.html">IFrame Integration and CSS</a>
											<ul class="nav">
													<li><a href="#css-iframe">Iframe Integration</a></li>
													<li><a href="#css-pp">Payment Page</a></li>
													<li><a href="#css-trxini">Transaction Initialize</a></li>
													<li><a href="#css-aliasins">Alias Insert</a></li>
													<li><a href="#css-iframe_size">Size of the Iframe</a></li>
													<li><a href="#css-usecss">Using CSS</a></li>
													<li><a href="#css-element">CSS Elements</a></li>
													<li><a href="#css-selector">CSS Selectors</a></li>
													<li><a href="#css-info">Additional Info</a></li>
											</ul>
								</li>
								<li>
										<a href="PayPal.html">PayPal</a>
											<ul class="nav">
													<li><a href="#ppal-requirement">Requirements</a></li>
													<li><a href="#api-access">Grant API Approval for Saferpay</a></li>
													<li><a href="#merchant-protection">Seller Protection</a></li>
													<li><a href="#partial-capture">Partial Capture</a></li>
													<li><a href="#capture">Capture and the solvency of the customer</a></li>
											</ul>
								</li>
								<li>
										<a href="BillPay.html">BillPay</a>
											<ul class="nav">
													<li><a href="#bp-requirement">Requirements</a></li>
													<li><a href="#bp-approval-api">BillPay Certification via API</a></li>
													<li><a href="#bp-assert">Assert</a></li>
													<li><a href="#bp-capt">Capture</a></li>
													<li><a href="#bp-approval-bo">BillPay Certification via Saferpay Backoffice</a></li>
											</ul>
								</li>
								<li>
										<a href="PostFinance.html">Swiss Postcard</a>
											<ul class="nav">
													<li><a href="#pf-requirement">Requirements</a></li>
													<li><a href="#pf-alias">Storage in the Secure Card Data Store</a></li>
													<li><a href="#pf-regdial">Registration Dialogue</a></li>
											</ul>
								</li>
								<li>
										<a href="sofort.html">SOFORT</a>
											<ul class="nav">
													<li><a href="#sf-requirement">Requirements</a></li>
													<li><a href="#sf-newproject">Create a new project for SOFORT</a></li>
											</ul>
								</li>
								<li>
										<a href="eps.html">eps</a>
											<ul class="nav">
													<li><a href="#eps-requirement">Requirements</a></li>
													<li><a href="#eps-newproject">How toget an EPS acceptance agreement</a></li>
											</ul>
								</li>
								<li>
										<a href="paydirekt.html">paydirekt</a>
											<ul class="nav">
													<li><a href="#pd-requirement">Requirements</a></li>
													<li><a href="#pd-address">Handling of delivery address</a></li>
													<li><a href="#pd-pending">Display of pending status for bookings</a></li>
													<li><a href="#pd-note">Notification after change from pending to final status</a></li>
													<li><a href="#pd-query">Querying the transaction status</a></li>
													<li><a href="#pd-refund">Refunds</a></li>
											</ul>
								</li>
								<li>
										<a href="faq.html">FAQ</a>
								</li>
								<li>
										<a href="contact.html">Contact</a>
								</li>
								<li>
										<a href="http://saferpay.github.io/jsonapi/" target="_blank">API Specification</a>
								</li>

					</ul>
				</div>
			</nav>

			<span class="print-page-break"></span>

			<main class="col-lg-10 col-sm-12">

				<h3 class="hidden-lg">
					<span style="font-size: x-large; font-weight: bold">Saferpay</span>
					<span>docs</span>
				</h3>

				
<section><h1>Introduction</h1><div class="row"><div class="col-lg-6"><p>The Saferpay JSON API (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation <strong>A</strong>pplication <strong>P</strong>rogramming <strong>I</strong>nterface), hereinafter also referred to as JA, is a modern streamlined interface that is independent of programming languages. The JA supports all Saferpay methods and is suitable for all shop systems, call centre solutions, merchandise management, ERP and CRM systems and other applications in which online payments are processed. This Integration Guide focuses on the basics of the Saferpay JSON API and serves as a guide for programmers, developers and integrators.</p><p>This Guide uses the <a href="https://saferpay.github.io/jsonapi/">Saferpay JSON-API Specification</a> as a base reference and will frequently link to the respective Requests. All requests and parameters will be specified there.</p></div></div></section><section id="intro-requirement"><h2><a name="intro-requirement"></a> Requirements</h2><div class="row"><div class="col-lg-6"><p>Use of the JA requires the following:</p><ul>
<li>A corresponding licence for the Saferpay module.</li>
<li>The existence of a valid identification with a username and password for the Saferpay Backoffice.</li>
<li>Availability of at least one active Saferpay terminal via which payment can be carried out and the associated</li>
<li>Availability of Saferpay terminal number (TerminalId parameter) and Saferpay customer number (CustomerId parameter).</li>
<li>Availability of valid acceptance agreement for credit cards or other payment methods.</li>
</ul></div></div></section><section id="pci"><h2><a name="pci"></a>  Data Security and PCI DSS</h2><div class="row"><div class="col-lg-6"><p>The credit card organisations have launched the safety program PCI DSS (Payment Card Industry Data Security Standard) to prevent misuse and fraudulent use of credit cards.</p><p>Please pay attention to the PCI DSS guidelines when setting up payment processes and deploying Saferpay.</p><p>When using the Saferpay Hosted Register Form together with the optional Saferpay Secure Card Data (SCD), you can set up and handle the payment process safely. No credit card numbers are processed, transferred or stored on your (web) servers.</p><p>To use the Saferpay Payment Page, card holders enter their credit card number and expiry date not within the merchant&#8217;s e-commerce application, but instead within the Saferpay Payment Page. As the e-commerce application and Saferpay operate on physically separate platforms, there is no risk that the credit card information could be stored in the database of the merchant&#8217;s system.</p><p>The risk of misuse of credit card details is significantly reduced via the use of Saferpay Secure Card Data or the Saferpay Payment Page and the expenditure required for PCI DSS merchant certification is reduced significantly.</p><p>If you have questions about PCI DSS, your processor or a specialised company should be able to assist you. More information can also be found on the <a href="https://www.pcisecuritystandards.org/">PCI Security Standards Council website</a>.</p></div></div></section><section><h2>Additional tips and hints in regards to PCI-compliancy</h2><div class="row"><div class="col-lg-6"><p>The following tips, tricks and also &quot;don't&quot;s should help to build a fully PCI-compliant shop-plattform, with relatively little effort.</p></div></div></section><section><h3>Certification Levels</h3><div class="row"><div class="col-lg-6"><p>The PCI-DSS certification is devided into multiple compliance levels, called SAQ (Self Assigned Questionary). Each SAQ has its own set of questions and requirements to meet in order to be certified. <strong>Every</strong> party involved with the processing of credit card information has to be PCI-compliant. That includes you -the merchant-, your Payment Service Processor -in this case Saferpay- your Acquirer -for example SIX Payment Services- and the card holders bank -also called Issuer-. Each certification is valid for a year at most and has then to be renewed.</p><p>The two PCI levels most relevant for the majority of merchants integrating Saferpay into their webhsop are; SAQ-A and SAQ-A EP.</p><blockquote>
<p><i class="glyphicon glyphicon-hand-right"></i> <strong>Attention!</strong> Saferpay is capable of covering multiple levels of PCI-compliance besides SAQ-A and EP. Please contact your acquirer/processor or a specialized company, should you have any questions regarding PCI compliancy. You can also find more information as well as sample SAQ-questionnaires <a href="https://www.pcisecuritystandards.org/document_library?category=saqs#results">on the official PCI DSS website</a> to get a better understanding and overview about the requirements you have to meet as a merchant.</p>
</blockquote><ol>
<li><p><strong>SAQ-A</strong> <br> This level of certification is the easiest to maintain for a merchant. It mostly involves using a solution, that is maintained by a fully PCI-certified processor. The merchant only specifies his PSP to be compliant, which then holds the risk and responsibility of being compliant. Saferpay is fully PCI SAQ-A compliant and offers solutions for the merchant to be SAQ-A compliant, however the merchant has to follow the following rules, in order to apply this to his plattform: <br> <strong>The merchant must not use his own (HTML-)form to capture credit card data!</strong> This is now forbidden for SAQ-A merchants, defined by the PCI DSS standard version 3, released on January 1st 2015! The merchant can use the <a href="https://saferpay.github.io/jsonapi/index.html#ChapterPaymentPage">Saferpay Payment Page</a>, or the Hosted Forms inside an iFrame, provided by the transaction Interface through <a href="https://saferpay.github.io/jsonapi/index.html#Payment_v1_Transaction_Initialize">Transaction Initialize</a> and the Secure Alias Store through <a href="https://saferpay.github.io/jsonapi/index.html#Payment_v1_Alias_Insert">Alias Insert</a>. <br> <strong>Every Element on the Payment Page and/or inside the iFrame, must be hosted by a PCI-certified processor!</strong> The merchant is <strong>NOT</strong> allowed to add or change any elements by hosting <strong>external</strong> CSS, or by breaking into the iFrame, using JavaScript. Both the Payment Page as well as the Hosted Forms offer the necessary solutions to meet these PCI requirements. Please refer to chapter <a href>Using CSS</a> on how to use the CSS-styling-feature, while being SAQ-A compliant.</p>
</li>
<li><p><strong>SAQ-A EP</strong> <br> If the SAQ-A level does not suite your requirements or demands, you can certify for SAQ-A EP. This level is more advanced as it enables you to use your own (HTML-)form, however it also requires more effort to be certified. The certification process involves matters like intruder and virus scans and certain firewall configurations.</p>
</li>
</ol></div></div></section><section><h3>Processes, that are NOT allowed</h3><div class="row"><div class="col-lg-6"><p>Even with an SAQ-A EP certification, some processes are still not allowed. The following describes such processes, that the merchant <strong>MUST NOT DO UNDER ANY CIRCUMSTANCES!</strong></p><ol>
<li><strong>Credit Card Information</strong>: It is not allowed to process credit card data through the merchants server. This includes, among others posting credit card data from an HTML-form to the merchant-server to perform a Saferpay request. It is especially forbidden to save credit card data. All credit card information involving the Card Verification Code (CVC/CVV) and the card number (PAN), must be processed through Saferpay! Saferpay does offer the option, to post the collected data directly, however this can only be used by merchants that are fully PCI-certified and allowed to process/save credit card data accordingly.</li>
</ol></div></div></section><section id="3ds"><h2><a name="3ds"></a> 3-D Secure</h2><div class="row"><div class="col-lg-6"><p>3-D Secure &#8211; 3DS for short &#8211; is supported by Visa (Verified by Visa), MasterCard (MasterCard SecureCode), American Express (SafeKey), Diners Club (ProtectBuy) and others. Via liability shift, merchants that offer the 3-D Secure process benefit from fewer payment defaults and from increased security with respect to credit card acceptance. It does not matter whether the card holder (CH) participates in this process or not.</p><p>The 3-D Secure procedure can only be used for payments on the Internet. If participating in the process, CHs must identify themselves to their card-issuing banks (issuer) while making payments. Payments that merchants conclude via 3-D Secure are to be specially flagged. Only when the corresponding criteria have been sent with the authorisation to the credit card company does the liability shift apply. This step is done automatically via the Transaction Interface and the Payment Page, meaning that no additional integration costs arise. The authentication of the CH proceeds via a web form provided by the issuer or by the service provider contracted by the issuer. The 3-D Secure authentication of the CH is done via an Internet browser.</p><p>A transaction with the 3-D Secure process proceeds as follows:</p><ol>
<li>The merchant sends the credit card details together with the relevant payment data to Saferpay.</li>
<li>Saferpay checks whether the CH uses the 3DS process or not. If yes, she or he will be required to authenticate her or himself to her or his bank. If not, the payment can be carried out without authentication.</li>
<li>The 3DS request will be forwarded to the card-issuing bank via the CH&#8217;s Internet browser. The CH must provide proof of identity by using a password, mTAN or another method.</li>
<li>The result of this authentication is sent back to Saferpay via the CO&#8217;s Internet browser.</li>
<li>Saferpay checks the result and ensures that no manipulation has occurred. The payment can be continued if the authentication concludes successfully.</li>
<li>Saferpay links the 3DS data to the token used by the JSON API and asks for this automatically when authorising the card.</li>
<li>When receiving the authorisation answer, the merchant also receives information about the output of the 3-D Secure process.</li>
</ol></div></div></section><section id="dcc"><h2><a name="dcc"></a> Dynamic Currency Conversion</h2><div class="row"><div class="col-lg-6"><p>Dynamic Currency Conversion (DCC) is a dynamic currency converter that allows international customers to pay the purchase price in the local currency or their home currency. DCC is available for SIX acceptance contracts with DCC expansion. For this, the terminal used for making the payment request receives a base currency in which all transactions are settled. Via DCC, international customers are shown the purchase price in the base currency and the current exchange rate in their national currency. The customer can then decide the currency in which the payment is to be made. Separate implementation by the merchant is not necessary for DCC. Saferpay automatically handles this step during the redirect.</p></div></div></section><section id="paymentmethods"><h2><a name="paymentmethods"></a> Supported Payment Methods</h2><div class="row"><div class="col-lg-6"><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Payment method</th>
      <th class="text-center">Transaction Interface</th>
      <th class="text-center">Payment Page</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Visa</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>V PAY</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>MasterCard</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Maestro International</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>American Express</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Bancontact</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>JCB</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Bonus Card</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Postfinance E-Finance</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>PostFinance Card</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>MyOne</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>SEPA Direct Debit</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>PayPal</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>ePrzelewy</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>eps</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>giropay</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>iDEAL</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>BillPay Purchase on Receipt</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>BillPay Direct Debit</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
        <tr>
      <td>SOFORT</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>paydirekt</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Twint</td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
  </tbody>
</table></div></div></section><section id="licenses"><h2><a name="licenses"></a> Licences</h2><div class="row"><div class="col-lg-6"><p>Saferpay distinguishes between two licences:</p><ul>
<li>Saferpay eCommerce</li>
<li>Saferpay Business</li>
</ul><p>It is extremely important to clarify before the implementation of Saferpay, whether an eCommerce licence or a business license is to be used, as they provide different functions. The Saferpay Business licence is an extension of the eCommerce licence. If you have any queries, please contact your relevant contractually appointed person.</p><p>The following table shows an overview of which functions are included in the two licence models:</p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Interface</th>
      <th class="text-center">eCommerce</th>
      <th class="text-center">Business</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th><b>PaymentPage Interface</b></th>
      <th></th>
      <th></th>
    </tr>
    <tr>
      <td>Initialize Payment Page</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Assert Payment Page</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <th><b>Transaction Interface</b></th>
      <th></th>
      <th></th>
    </tr>
    <tr>
      <td>Transaction Initialize</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Authorize</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction QueryPaymentMeans</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction AdjustAmount</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Authorize Direct</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Authorize Referenced</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Capture</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Cancel</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Refund</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Refund Direct</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Redirect Payment</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Transaction Assert Redirect Payment</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <th><b>Secure Alias Store</b></th>
      <th></th>
      <th></th>
    </tr>
    <tr>
      <td>Alias Insert</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Alias Assert Insert</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Alias Insert Direct</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Alias Delete</td>
      <td></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <th><b>Batch</b></th>
      <th class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></th>
      <th class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></th>
    </tr>
    <tr>
      <td>Close</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
  </tbody>
</table></div></div></section><section id="pm-functions"><h2><a name="pm-functions"></a> Payment Method Features</h2><div class="row"><div class="col-lg-6"><p>Saferpay supports a variety of payment methods, including 3rd party providers such as PayPal. These 3rd party providers are not obligated to support all Saferpay functions. The following table provides an overview of the features supported by the individual payment methods:</p><p></p><table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Payment method</th>
      <th class="text-center">Capture</th>
      <th class="text-center">Batch</th>
      <th class="text-center">SCD</th>
      <th class="text-center">Refund</th>
      <th class="text-center">Recurring</th>
      <th class="text-center">DCC</th>
      <th class="text-center">3DS</th>
      <th class="text-center">MOTO</th>
    </tr>
  </thead>
  <tbody>
      <tr>
      <td>American Express</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Bancontact</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
    </tr>   
    <tr>
      <td>BillPay Direct Debit</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>BillPay Purchase on Receipt</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Bonus Card</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
        <tr>
      <td>Discover</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>ePrzelewy</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>eps</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>giropay</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>iDEAL</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>  
    <tr>
      <td>JCB</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>Maestro Int.</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
    </tr>    
    <tr>
      <td>Mastercard</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>MyOne</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>paydirekt</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>PayPal</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>PostFinance Card</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>PostFinance eFinance</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>SEPA Direct Debit</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td> </td>
      <td> </td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
    <tr>
      <td>SOFORT</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>VISA</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>
        <tr>
      <td>VPay</td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
      <td class="text-center"><span class="glyphicon glyphicon-ok" style="color: #5cb85c"></span></td>
    </tr>    
  </tbody>
</table><dl class="dl-horizontal">
  <dt>Capture</dt>
  <dd>Capture required</dd>
  <dt>Batch</dt>
  <dd>Daily closing required</dd>
  <dt>SCD</dt>
  <dd>Secure Alias Store available</dd>
  <dt>Refund</dt>
  <dd>Credits payments can be made</dd>
  <dt>Recurring</dt>
  <dd>Recurring payments</dd>
  <dt>DCC</dt>
  <dd>DCC available</dd>
  <dt>3-D Secure</dt>
  <dd>3-D Secure available</dd>
  <dt>MOTO</dt>
  <dd>Mail Phone Order available</dd>
</dl></div></div></section><section id="capture-batch"><h2><a name="capture-batch"></a> Capture and Daily Closing</h2><div class="row"><div class="col-lg-6"><p>These two features are extremely important Saferpay features. Depending on the means of payment, the two can be directly associated with each other and they must be carried out for the cash flow to be initiated to the merchant&#8217;s account.</p></div></div></section><section id="capture"><h3><a name="capture"></a>Capture</h3><div class="row"><div class="col-lg-6"><p><a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> serves to book and thus to conclude a payment. As long as a transaction has not passed through the capture, the amount is merely reserved (&#8220;authorised&#8221;) and has not yet been paid. On the API side, you receive information about the transaction via the &#8220;Status&#8221; parameter (note that this is only a part of the data):</p><pre><code class="language-json">&quot;Transaction&quot;: {
  &quot;Type&quot;: &quot;PURCHASE&quot;,
  &quot;Status&quot;: &quot;AUTHORIZED&quot;,
  &quot;Id&quot;: &quot;MUOGAWA9pKr6rAv5dUKIbAjrCGYA&quot;,
  &quot;Date&quot;: &quot;2015-09-18T09:19:27.078Z&quot;,
  &quot;Amount&quot;: {
    &quot;Value&quot;: &quot;100&quot;,
    &quot;CurrencyCode&quot;: &quot;CHF&quot;
  },
  &quot;AcquirerName&quot;: &quot;AcquirerName&quot;,
  &quot;AcquirerReference&quot;: &quot;Reference&quot;
}
</code></pre><p>Transactions which have not yet been booked are visible in Saferpay Backoffice as &#8220;Reservation.&#8221; If a transaction has already passed through the capture, the status is changed to &#8220;CAPTURED&#8221;:</p><pre><code class="language-json">&quot;Transaction&quot;: {
  &quot;Type&quot;: &quot;PURCHASE&quot;,
  &quot;Status&quot;: &quot;CAPTURED&quot;,
  &quot;Id&quot;: &quot;MUOGAWA9pKr6rAv5dUKIbAjrCGYA&quot;,
  &quot;Date&quot;: &quot;2015-09-18T09:19:27.078Z&quot;,
  &quot;Amount&quot;: {
    &quot;Value&quot;: &quot;100&quot;,
    &quot;CurrencyCode&quot;: &quot;CHF&quot;
  },
  &quot;AcquirerName&quot;: &quot;AcquirerName&quot;,
  &quot;AcquirerReference&quot;: &quot;Reference&quot;
}
</code></pre><p>Not all payment methods need a separate capture to trigger the cash flow. You can find an overview of which payment methods should be booked <a href="https://saferpay.github.io/sndbx/index.html#pm-functions">under Payment Method Features</a>.</p><p>IMPORTANT: A reservation made through a certain payment processor, may only last for a limited time only. If this timeframe is exceeded, the authorised amount is released and
becomes available to the card holder again. This may have the result that the amount can no longer be claimed. If possible, we recommend always triggering the <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> immediately after authorisation. Either by direct API call, or manually via Saferpay Backoffice. If this is not possible, the <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> nonetheless must be done as soon as possible. With PayPal, this must happen within 48 hours.
Otherwise, it may be that the <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> -and thus the money-transfer- will be refused. For other payment methods, a later <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> is sometimes possible. If necessary, please speak to your processor about guaranteed reservation times.</p></div></div></section><section id="closing"><h3><a name="closing"></a>Daily Closing</h3><div class="row"><div class="col-lg-6"><p>The daily closing follows the capture once daily, automatically at 22h CEST. During this process, all transactions that have passed through the capture are filed with the payment method processor in order to initiate the cash flow.</p><p>If desired, this step can also be triggered via the Saferpay API. The request necessary for this is called <a href="http://saferpay.github.io/jsonapi/index.html#ChapterBatch">Batch Close</a>.</p><p>However, before you can use the API, you need to disable the daily closing in the Saferpay
Backoffice via &quot;Administration -&gt; Terminals&quot; for the respective terminal. Closing should be carried out only once a day.</p></div></div></section><section id="special"><h3><a name="special"></a>Special Cases</h3><div class="row"><div class="col-lg-6"><h4>PAYPAL, SWISS POSTCARD, SEPA ELV, BANCONTACT and paydirekt</h4><p>With these payment methods, daily closing is triggered alongside the capture automatically for each transaction and the cash flow is initiated immediately. With PayPal, this happens because the right is reserved to refuse the payment. For this reason, we demand the money for you immediately. For Swiss Postcard, this is established in the protocol used by PostFinance. Same goes for SEPA ELV ,Bancontact and paydirekt.</p><h4>Online Banking</h4><p>giropay, iDEAL, SOFORT, Bancontact, eprzelewy und eps are online payment methods that trigger a transfer and thus the cash flow via the purchaser&#8217;s online banking services. A successful transaction is always 100% complete.</p><h4>Capturing a different amount</h4><p>The <a href="https://saferpay.github.io/jsonapi/#Payment_v1_Transaction_Capture">Capture</a> can also be used to change the amount of the transaction. It is generally possible to capture less, than initially authorized. So applying things like voucher codes, or similar is possible.
Capturing more than initially authorized however, may result in an error and is not recommended. This however depends on your processor.</p><blockquote>
<p><strong>Attention</strong> A transaction can only be captured once. If the amount value changes during the payment process, a new transaction has to be initialized with the new adjusted amount. PayPal, however offers the option, to perform partial captures.</p>
</blockquote></div></div></section><section id="cancel-refund"><h2><a name="cancel-refund"></a> When can Cancellations or Refunds occur?</h2><div class="row"><div class="col-lg-6"><p>It&#8217;s by no means rare that customers want to cancel their orders or return goods. As a merchant, you will in such a situation either want to cancel or make a refund for the transaction in question. It should be noted that there are payment methods that do not offer this functionality. <a href="https://saferpay.github.io/sndbx/index.html#pm-functions">An overview can be found in the Payment Method Features chapter</a>.</p><p>If this isn&#8217;t permitted by the payment method, payments that have not been submitted via daily closing may be canceled. If the daily closing has already been triggered, a refund will have to be issued.</p><blockquote>
<p><i class="glyphicon glyphicon-hand-right"></i> <strong>IMPORTANT NOTE:</strong> Online banking methods do not offer either functionality by default.</p>
</blockquote></div></div></section>

			</main>

		</div>
	</div>

	<div class="scroll-top-wrapper">
		<a href="#top" class="scroll-top-inner" onclick="$('html,body').animate({ scrollTop: 0 }, 'slow'); return false;">
			<span class="glyphicon glyphicon-chevron-up"></span> Back to Top
		</a>
	</div>

	<script src="assets/js/vendors.js"></script>
	<script src="assets/js/helppage.js"></script>
</body>
</html>

